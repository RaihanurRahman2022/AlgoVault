# Simple Free Deployment Guide

For a small app with 5-10 problems, here's the easiest free hosting setup.

## Recommended: Render (Backend) + Vercel (Frontend)

### Why This Combo?
- âœ… **100% Free** for small apps
- âœ… **Easy deployment** (connect GitHub, auto-deploy)
- âœ… **SQLite works perfectly** for 5-10 problems
- âœ… **No credit card required**

---

## Step 1: Deploy Backend to Render (5 minutes)

### 1.1 Prepare Your Code
1. Make sure your code is pushed to GitHub
2. Create a `render.yaml` file in your project root:

```yaml
services:
  - type: web
    name: algovault-backend
    env: go
    plan: free
    buildCommand: cd backend && go mod download && go build -o server .
    startCommand: ./server -db ./algovault.db -port $PORT -jwt-secret $JWT_SECRET -ai-api-key $AI_API_KEY
    envVars:
      - key: JWT_SECRET
        generateValue: true
      - key: AI_API_KEY
        sync: false  # You'll set this manually
      - key: PORT
        value: 8080
```

### 1.2 Deploy on Render
1. Go to [render.com](https://render.com) and sign up (free)
2. Click "New +" â†’ "Web Service"
3. Connect your GitHub repository
4. Select your repository
5. Configure:
   - **Name**: `algovault-backend`
   - **Environment**: `Go`
   - **Build Command**: `cd backend && go mod download && go build -o server .`
   - **Start Command**: `./server -db ./algovault.db -port $PORT -jwt-secret $JWT_SECRET -ai-api-key $AI_API_KEY`
6. Add Environment Variables:
   - `JWT_SECRET`: Click "Generate" (Render will create one)
   - `AI_API_KEY`: Your OpenRouter API key
   - `PORT`: `8080` (Render sets this automatically, but include it)
7. Click "Create Web Service"
8. Wait 2-3 minutes for deployment
9. Copy your backend URL (e.g., `https://algovault-backend.onrender.com`)

---

## Step 2: Deploy Frontend to Netlify (3 minutes)

### 2.1 Update Frontend Config
1. Update `frontend/.env` or create `frontend/.env.production`:
```
VITE_API_BASE_URL=https://your-backend-url.onrender.com
```

### 2.2 Deploy on Netlify
1. Go to [netlify.com](https://netlify.com) and sign up (free)
2. Click "Add new site" â†’ "Import an existing project"
3. Connect to GitHub and select your repository
4. Configure build settings:
   - **Base directory**: `frontend`
   - **Build command**: `npm install && npm run build`
   - **Publish directory**: `frontend/dist`
5. Click "Show advanced" and add Environment Variable:
   - **Key**: `VITE_API_BASE_URL`
   - **Value**: Your Render backend URL (from Step 1, e.g., `https://algovault-backend.onrender.com`)
6. Click "Deploy site"
7. Wait 1-2 minutes for build to complete
8. Your app is live! ðŸŽ‰
9. Netlify will give you a URL like `https://your-app-name.netlify.app`

---

## Alternative: All-in-One on Render

If you prefer one platform for everything:

### Deploy Both on Render

1. **Backend** (same as Step 1 above)
2. **Frontend**:
   - Click "New +" â†’ "Static Site"
   - Connect GitHub repo
   - Build Command: `cd frontend && npm install && npm run build`
   - Publish Directory: `frontend/dist`
   - Add environment variable: `VITE_API_BASE_URL` = your backend URL

---

## Quick Start Commands

### Local Testing Before Deploy

```bash
# Backend
cd backend
go run . -db ./algovault.db -port 8080 -jwt-secret test123

# Frontend (in another terminal)
cd frontend
npm install
npm run build
npm run preview
```

---

## Environment Variables Summary

### Backend (Render)
- `JWT_SECRET` - Auto-generated by Render
- `AI_API_KEY` - Your OpenRouter API key
- `PORT` - Auto-set by Render (8080)

### Frontend (Netlify)
- `VITE_API_BASE_URL` - Your Render backend URL

---

## Free Tier Limits

### Render
- âœ… 750 hours/month (enough for 24/7)
- âœ… 512MB RAM
- âœ… SQLite works great for small apps

### Netlify
- âœ… 100GB bandwidth/month
- âœ… 300 build minutes/month
- âœ… Automatic HTTPS
- âœ… Free custom domain support

---

## Troubleshooting

### Backend not starting?
- Check Render logs: Click on your service â†’ "Logs"
- Make sure `startCommand` uses `$PORT` (Render sets this)

### Frontend can't connect to backend?
- Check CORS settings in `backend/main.go`
- Verify `VITE_API_BASE_URL` matches your Render backend URL (no trailing slash, no `/api`)
- In Netlify: Go to Site settings â†’ Environment variables â†’ Check `VITE_API_BASE_URL` is set correctly
- **Important**: After changing environment variables in Netlify, you need to trigger a new deploy
- Rebuild your site: Go to Deploys â†’ Trigger deploy â†’ Deploy site

### Database issues?
- SQLite file persists on Render's filesystem
- For 5-10 problems, SQLite is perfect (no need for PostgreSQL)

---

## Cost: $0/month âœ…

Both platforms are completely free for your use case!
